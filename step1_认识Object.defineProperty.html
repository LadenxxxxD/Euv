<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>step1_认识Object.defineProperty</title>
</head>

<body>
    <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty">Object.defineProperty()
        在 MDN</a>
    <script>
        let obj = {
            name: '张三'
        }
        Object.defineProperty(obj, 'name', {
            // 第一个参数：目标对象     第二个参数：目标对象的属性      第三个参数：Descriptor
            enumerable: true, // 可枚举 (可以遍历)
            configurable: true, // 可配置 （可以使用delete删除 可以改变描述符）
            // writable: false, // 可写入 （可以更改）
            // value: '新的值', // 为对象赋值

            // 【需要注意】 Object.defineProperty的第三个参数Descriptor是个对象,指定了所定义属性的属性描述符.属性描述符一共有两种.数据属性描述符(DataDescriptor)和访问器属性描述(AccessorDescriptor).数据属性描述符对象上不能有get,set属性,访问器属性描述符对象上不能有value,writable属性.
            // 简单来说Object.defineProperty的第三个参数Descriptor中，writable或value 与 getter、setter是不能共存的

            get: function () {
                return '监听到get对象的值';
            },
            set: function (newValue) {
                console.log('监听到的值变化了', newValue);
            }
        });
    </script>
</body>

</html>